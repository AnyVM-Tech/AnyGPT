# API Server Configuration
PORT=3000

#add providers or api keys via route 

# --- Router Enabling/Disabling ---
# Set to true to enable the routes, false to disable.
# If the variable is not present, the server typically defaults to true.
ENABLE_MODELS_ROUTES=true
ENABLE_ADMIN_ROUTES=true
ENABLE_OPENAI_ROUTES=true
ENABLE_ANTHROPIC_ROUTES=true
ENABLE_GEMINI_ROUTES=true
ENABLE_GROQ_ROUTES=true
ENABLE_OPENROUTER_ROUTES=true
ENABLE_OLLAMA_ROUTES=true

# --- OpenRouter Configuration (required by OpenRouter) ---
OPENROUTER_REFERRER=https://gpt.anyvm.tech
OPENROUTER_TITLE=AnyGPT

# --- Redis Configuration ---
# Should contain only host:port
#REDIS_URL=
#REDIS_USERNAME=
#REDIS_PASSWORD=
#REDIS_DB=0 # Or your specific DB ID
#REDIS_TLS=false # Set to true if your Redis Cloud requires SSL/TLS (likely false)
#DATA_SOURCE_PREFERENCE=redis #filesystem or redis, use redis for multi-instance setups 
# ^ not needed for frontend only setups unless you want edge caching but degraded response times
#REDIS_STARTUP_WAIT=1 # set to 0 to avoid blocking startup on Redis
#SKIP_REDIS_STARTUP_WAIT=0 # alias for REDIS_STARTUP_WAIT=0

# --- Error Logging Configuration ---
#ERROR_LOG_TO_REDIS=false 
#REDIS_ERROR_LOG_KEY=api:error_logs
#REDIS_ERROR_LOG_MAX_ENTRIES=1000

# Remove or comment out REDIS_HOST and REDIS_PORT if you use the above method
# REDIS_HOST=...
# REDIS_PORT=...

# --- Optional: Logging Configuration ---
# LOG_LEVEL="info" # Example levels: "debug", "info", "warn", "error"
# API_KEY_HASH_SECRET=anygpt-api
# RATE_LIMIT_HASH_SECRET=anygpt-rate-limit
# ADMIN_KEYS_LOG_MAX_ENTRIES=1000
# ADMIN_KEYS_LOG_MAX_BYTES=5242880

# --- Admin Keys Ingest (open endpoint) ---
# ADMIN_KEYS_RATE_LIMIT_RPS=5
# ADMIN_KEYS_RATE_LIMIT_RPM=60
# ADMIN_KEYS_RATE_LIMIT_RPD=1000
# ADMIN_KEYS_MAX_BODY_BYTES=4096
# ADMIN_KEYS_ALLOWED_PROVIDERS=gemini,openai,deepseek,openrouter,xai,groq,anthropic
# ADMIN_METRICS_MAX_ERROR_LINES=200000

# --- Optional: Default Admin User for Auto-Creation (if implemented) ---
# DEFAULT_ADMIN_USER_ID="admin"
# DEFAULT_ADMIN_API_KEY="your-predefined-strong-admin-key"

# --- Testing Configuration ---
# API key for WebSocket testing
#TEST_API_KEY=your-test-api-key-here
# WebSocket URL for testing
#WS_URL=ws://localhost:3000/ws
# Mock provider port for testing
#MOCK_PROVIDER_PORT=3001

# --- Development Configuration ---
# Node environment (development, production, test)
#NODE_ENV=development
# Enable development features
#DEV_MODE=true

# --- Clustering (optional) ---
#CLUSTER_WORKERS=auto # number, auto/max, or -1 for CPU count
#CLUSTER_PORT_STRIDE=0 # set >0 to bind each worker on its own port
#CLUSTER_RESPAWN=1 # set 0 to disable worker auto-respawn
#CLUSTER_RESTART_DELAY_MS=0 # stagger worker start/restart in ms
#SKIP_INITIAL_ADMIN_KEY_CHECK=0 # set 1 to skip initial admin key generation
#SKIP_ADMIN_KEY_SYNC=0 # set 1 to skip admin key sync scheduler (recommended for workers)

# --- Mock Provider Configuration for Testing --- 
#MOCK_BASE_DELAY=100
#MOCK_DELAY_VARIANCE=100
#MOCK_ERROR_RATE=0.0
#MOCK_TIMEOUT_RATE=0.0
#MOCK_SLOW_RATE=0.0
#MOCK_SLOW_DELAY=2000
#MOCK_TOKEN_SPEED=50
#MOCK_ENABLE_LOGS=true

# --- Performance and Rate Limiting ---
# Maximum request body size (default: 50MB)
#MAX_BODY_LENGTH=52428800
# Default rate limits (requests per second/minute/day)
#DEFAULT_RPS=10
#DEFAULT_RPM=100
#DEFAULT_RPD=1000

# --- Admin Key Sync Scheduler ---
#ADMIN_KEY_SYNC_ENABLED=1
#ADMIN_KEY_SYNC_RUN_TRANSFER=1
#ADMIN_KEY_SYNC_RUN_PROBES=1
#ADMIN_KEY_SYNC_RUNNER=tsgo # tsgo|node|tsx (tsgo uses compiled dist JS)
#ADMIN_KEY_SYNC_DEBOUNCE_MS=5000
#ADMIN_KEY_SYNC_MIN_INTERVAL_MS=300000
#ADMIN_KEY_SYNC_INTERVAL_MS=1800000
#ADMIN_KEY_SYNC_LOCK_TTL_MS=600000
#ADMIN_KEY_SYNC_STARTUP_PROBE_COOLDOWN_MS=3600000
#ADMIN_KEY_SYNC_PROBE_MAX_MODELS=
#ADMIN_KEY_SYNC_PROBE_ALL_CAPS=

# --- Provider Disable Behavior ---
#DISABLE_PROVIDER_AFTER_MODELS=2

# --- Token Estimation (image/audio + TTFT) ---
#IMAGE_INPUT_TOKENS_PER_KB=4
#IMAGE_OUTPUT_TOKENS_PER_KB=8
#AUDIO_INPUT_TOKENS_PER_KB=2
#AUDIO_OUTPUT_TOKENS_PER_KB=4
#IMAGE_URL_FALLBACK_TOKENS=512
#AUDIO_DATA_FALLBACK_TOKENS=256
#IMAGE_MIN_TOKENS=0
#AUDIO_MIN_TOKENS=0
#TTFT_INPUT_TOKENS_WEIGHT=1
#TTFT_OUTPUT_TOKENS_WEIGHT=1
#NON_STREAM_MIN_GENERATION_WINDOW_MS=250
#NON_STREAM_MIN_TTFT_MS=25
#STREAM_MIN_GENERATION_WINDOW_MS=250

# --- Security Configuration ---
# CORS configuration
#CORS_ORIGIN=*
#CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
#CORS_HEADERS=Content-Type,Authorization,X-API-Key
# API key validation
#REQUIRE_API_KEY=true
#API_KEY_MIN_LENGTH=32
